window.__require=function e(t,n,i){function s(a,r){if(!n[a]){if(!t[a]){var c=a.split("/");if(c=c[c.length-1],!t[c]){var l="function"==typeof __require&&__require;if(!r&&l)return l(c,!0);if(o)return o(c,!0);throw new Error("Cannot find module '"+a+"'")}}var h=n[a]={exports:{}};t[a][0].call(h.exports,function(e){return s(t[a][1][e]||e)},h,h.exports,e,t,n,i)}return n[a].exports}for(var o="function"==typeof __require&&__require,a=0;a<i.length;a++)s(i[a]);return s}({1:[function(e,t,n){function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function s(e){return"function"==typeof e}function o(e){return"number"==typeof e}function a(e){return"object"==typeof e&&null!==e}function r(e){return void 0===e}t.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(e){if(!o(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},i.prototype.emit=function(e){var t,n,i,o,c,l;if(this._events||(this._events={}),"error"===e&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var h=new Error('Uncaught, unspecified "error" event. ('+t+")");throw h.context=t,h}if(r(n=this._events[e]))return!1;if(s(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:o=Array.prototype.slice.call(arguments,1),n.apply(this,o)}else if(a(n))for(o=Array.prototype.slice.call(arguments,1),i=(l=n.slice()).length,c=0;c<i;c++)l[c].apply(this,o);return!0},i.prototype.addListener=function(e,t){var n;if(!s(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,s(t.listener)?t.listener:t),this._events[e]?a(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,a(this._events[e])&&!this._events[e].warned&&(n=r(this._maxListeners)?i.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(e,t){if(!s(t))throw TypeError("listener must be a function");var n=!1;function i(){this.removeListener(e,i),n||(n=!0,t.apply(this,arguments))}return i.listener=t,this.on(e,i),this},i.prototype.removeListener=function(e,t){var n,i,o,r;if(!s(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(o=(n=this._events[e]).length,i=-1,n===t||s(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(a(n)){for(r=o;r-- >0;)if(n[r]===t||n[r].listener&&n[r].listener===t){i=r;break}if(i<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},i.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(s(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},i.prototype.listeners=function(e){return this._events&&this._events[e]?s(this._events[e])?[this._events[e]]:this._events[e].slice():[]},i.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(s(t))return 1;if(t)return t.length}return 0},i.listenerCount=function(e,t){return e.listenerCount(t)}},{}],BullShootDirection:[function(e,t,n){"use strict";cc._RF.push(t,"91243O8KFlLbpbJq5+iciRw","BullShootDirection"),cc.Class({extends:cc.Component,properties:{_speedBullet:1e3,laserGreenPre:cc.Prefab,bulletDamge:0},onLoad:function(){},start:function(){"RedBullet"===this.node.name?(this.redBulletType(),this.bulletDamge=50):"OrangeBullet"===this.node.name?(this.orangeBulletType(),this.bulletDamge=.5):"GreenBullet"===this.node.name?this.greenBulletType():"BlueBullet"===this.node.name&&(this.blueBulletType(),this.bulletDamge=10)},greenBulletType:function(){var e=this;this._speedBullet=400,cc.tween(this.node).by(.6,{y:this._speedBullet}).call(function(){return e.node.getComponent(cc.Animation).play()}).start()},blueBulletType:function(){var e=this;this._speedBullet=1e3,cc.tween(this.node).by(1,{y:this._speedBullet}).call(function(){return e.node.destroy()}).start()},redBulletType:function(){var e=this;this._speedBullet=500,0==this.node.angle?cc.tween(this.node).by(1,{y:this._speedBullet}).call(function(){return e.node.destroy()}).start():35==this.node.angle?cc.tween(this.node).by(1,{x:-this._speedBullet,y:this._speedBullet}).call(function(){return e.node.destroy()}).start():-35==this.node.angle&&cc.tween(this.node).by(1,{x:this._speedBullet,y:this._speedBullet}).call(function(){return e.node.destroy()}).start()},orangeBulletType:function(){var e=this,t=this.node.getComponent(cc.CircleCollider);t.enabled=!1,this._speedBullet=200,cc.tween(this.node).by(.5,{y:this._speedBullet,angle:-720}).call(function(){return t.enabled=!0}).by(1,{scale:4,angle:-720}).by(1,{scale:-4,angle:-720,opacity:-150}).call(function(){return e.node.destroy()}).start()},greenBulletAnimation:function(){var e=cc.instantiate(this.laserGreenPre);e.parent=cc.Canvas.instance.node,e.position=this.node.position,e.angle=0;var t=cc.instantiate(this.laserGreenPre);t.parent=cc.Canvas.instance.node,t.position=this.node.position,t.angle=90;var n=cc.instantiate(this.laserGreenPre);n.parent=cc.Canvas.instance.node,n.position=this.node.position,n.angle=180;var i=cc.instantiate(this.laserGreenPre);i.parent=cc.Canvas.instance.node,i.position=this.node.position,i.angle=270,this.node.destroy()},onCollisionEnter:function(e,t){3!=t.tag&&this.node.destroy(),"Enemies"===e.node.group?null!=e.node.getComponent("enemyVerticalShoot")?(e.node.getComponent("enemyVerticalShoot").maxHealth-=this.bulletDamge,e.node.getComponent("enemyVerticalShoot").getDamage()):null!=e.node.getComponent("enemyThreeWayShoot")?(e.node.getComponent("enemyThreeWayShoot").maxHealth-=this.bulletDamge,e.node.getComponent("enemyThreeWayShoot").getDamage()):null!=e.node.getComponent("enemyPlayerShoot")&&(e.node.getComponent("enemyPlayerShoot").maxHealth-=this.bulletDamge,e.node.getComponent("enemyPlayerShoot").getDamage()):"Boss"===e.node.group&&(e.node.getComponent("boss1").maxHealth-=this.bulletDamge,e.node.getComponent("boss1").getDamage())},onCollisionStay:function(e,t){3===t.tag&&("Enemies"===e.node.group?null!=e.node.getComponent("enemyVerticalShoot")?(e.node.getComponent("enemyVerticalShoot").maxHealth-=this.bulletDamge,e.node.getComponent("enemyVerticalShoot").getDamage()):null!=e.node.getComponent("enemyThreeWayShoot")?(e.node.getComponent("enemyThreeWayShoot").maxHealth-=this.bulletDamge,e.node.getComponent("enemyThreeWayShoot").getDamage()):null!=e.node.getComponent("enemyPlayerShoot")&&(e.node.getComponent("enemyPlayerShoot").maxHealth-=this.bulletDamge,e.node.getComponent("enemyPlayerShoot").getDamage()):"Boss"===e.node.group&&(e.node.getComponent("boss1").maxHealth-=this.bulletDamge,e.node.getComponent("boss1").getDamage()))},playSound:function(){}}),cc._RF.pop()},{}],EventsListener:[function(e,t,n){"use strict";cc._RF.push(t,"518a6LYVs1OvJPHbGuEg0QJ","EventsListener");var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=e("events"),a=function(){function e(){s(this,e),this._emiter=new o,this._emiter.setMaxListeners(100)}return i(e,[{key:"emit",value:function(){var e;(e=this._emiter).emit.apply(e,arguments)}},{key:"registerEvent",value:function(e,t){this._emiter.on(e,t)}},{key:"registerOnce",value:function(e,t){this._emiter.once(e,t)}},{key:"removeEvent",value:function(e,t){this._emiter.removeListener(e,t)}},{key:"destroy",value:function(){this._emiter.removeAllListeners(),this._emiter=null,e.instance=null}}]),e}();a.instance=null,t.exports=a,cc._RF.pop()},{events:1}],"Introduction ":[function(e,t,n){"use strict";cc._RF.push(t,"68349udf5ZNCqVn7wpLv3Wl","Introduction "),cc.Class({extends:cc.Component,properties:{menuStart:cc.Node},onBackClick:function(){this.menuStart.active=!0,this.node.active=!1}}),cc._RF.pop()},{}],LaserGreen:[function(e,t,n){"use strict";cc._RF.push(t,"d2c3a14q0lKj6W/RuekPzm2","LaserGreen"),cc.Class({extends:cc.Component,properties:{_speedLaser:1e3,bulletDamge:20},start:function(){var e=this;0===this.node.angle?cc.tween(this.node).by(1,{y:this._speedLaser}).call(function(){return e.node.destroy()}).start():90===this.node.angle?cc.tween(this.node).by(1,{x:this._speedLaser}).call(function(){return e.node.destroy()}).start():180===this.node.angle?cc.tween(this.node).by(1,{y:-this._speedLaser}).call(function(){return e.node.destroy()}).start():270===this.node.angle&&cc.tween(this.node).by(1,{x:-this._speedLaser}).call(function(){return e.node.destroy()}).start()},onCollisionEnter:function(e,t){"Enemies"===e.node.group&&(null!=e.node.getComponent("enemyVerticalShoot")?(e.node.getComponent("enemyVerticalShoot").maxHealth-=this.bulletDamge,e.node.getComponent("enemyVerticalShoot").getDamage()):null!=e.node.getComponent("enemyThreeWayShoot")?(e.node.getComponent("enemyThreeWayShoot").maxHealth-=this.bulletDamge,e.node.getComponent("enemyThreeWayShoot").getDamage()):null!=e.node.getComponent("enemyPlayerShoot")&&(e.node.getComponent("enemyPlayerShoot").maxHealth-=this.bulletDamge,e.node.getComponent("enemyPlayerShoot").getDamage()))}}),cc._RF.pop()},{}],Level1:[function(e,t,n){"use strict";cc._RF.push(t,"43a96hZ9z9IqoKJM8JCEM/U","Level1");var i=e("EventsListener");cc.Class({extends:cc.Component,properties:{pre1:cc.Prefab,pre2:cc.Prefab,pre3:cc.Prefab,_map:null,_mapColl:null,_mapRow:null,_numberOfEnemiesDead:0,numberOfEnemies:0,jsonMap:null,waveID:1,waveLabel:cc.Label,boss:cc.Node,_lastLabel:"this is Boss!!!"},onLoad:function(){var e=cc.director.getCollisionManager();e.enabled=!0,e.enabledDebugDraw=!1},start:function(){i.instance.registerEvent("countEnemies",this.controlWave.bind(this)),cc.loader.loadRes("renderMap1.json",this.renderMap.bind(this))},renderMap:function(e,t){var n=this;e?cc.log(e):(this.waveID=1,this.jsonMap=t,this._map=this.jsonMap.json.Level1.wave1.map,this._mapColl=this.jsonMap.json.Level1.wave1.collumn,this._mapRow=this.jsonMap.json.Level1.wave1.row,this.numberOfEnemies=this.jsonMap.json.Level1.wave1.numberOfEnemies,this.waveLabel.node.active=!0,this.waveLabel.node.scale=0,cc.tween(this.waveLabel.node).to(1,{scale:1}).to(.5,{opacity:0}).to(.5,{opacity:255}).to(.5,{opacity:0}).to(.5,{opacity:255}).to(1,{scale:0}).call(function(){return n.waveLabel.node.active=!1}).call(function(){return n.renderWave(n._map,n._mapColl,n._mapRow)}).start())},renderWave:function(e,t,n){for(var i=0,s=cc.Canvas.instance.node.getContentSize().width,o=cc.Canvas.instance.node.getContentSize().height,a=0;a<=n-1;a++)for(var r=0;r<=t-1;r++){if(1===e[i]){var c=cc.instantiate(this.pre1);c.parent=cc.Canvas.instance.node,c.position=cc.v2(0,o),c.getComponent("enemyVerticalShoot").moveToX=s/t*r-420,c.getComponent("enemyVerticalShoot").moveToY=-o/(2*n)*a+250}else if(2===e[i]){var l=cc.instantiate(this.pre2);l.parent=cc.Canvas.instance.node,l.position=cc.v2(s/t*r-420,-o/(2*n)*a+250),l.position=cc.v2(0,o),l.getComponent("enemyThreeWayShoot").moveToX=s/t*r-420,l.getComponent("enemyThreeWayShoot").moveToY=-o/(2*n)*a+250}else if(3===e[i]){var h=cc.instantiate(this.pre3);h.parent=cc.Canvas.instance.node,h.position=cc.v2(s/t*r-420,-o/(2*n)*a+250),h.position=cc.v2(0,o),h.getComponent("enemyPlayerShoot").moveToX=s/t*r-420,h.getComponent("enemyPlayerShoot").moveToY=-o/(2*n)*a+250}i++}},controlWave:function(){this._numberOfEnemiesDead++,this._numberOfEnemiesDead===this.numberOfEnemies&&(6!==this.waveID&&this.waveID++,this.waveList(),this._numberOfEnemiesDead=0)},waveList:function(){var e=this,t=!1;2===this.waveID?(this._map=this.jsonMap.json.Level1.wave2.map,this._mapColl=this.jsonMap.json.Level1.wave2.collumn,this._mapRow=this.jsonMap.json.Level1.wave2.row,this.numberOfEnemies=this.jsonMap.json.Level1.wave2.numberOfEnemies):3===this.waveID?(this._map=this.jsonMap.json.Level1.wave3.map,this._mapColl=this.jsonMap.json.Level1.wave3.collumn,this._mapRow=this.jsonMap.json.Level1.wave3.row,this.numberOfEnemies=this.jsonMap.json.Level1.wave3.numberOfEnemies):4===this.waveID?(this._map=this.jsonMap.json.Level1.wave4.map,this._mapColl=this.jsonMap.json.Level1.wave4.collumn,this._mapRow=this.jsonMap.json.Level1.wave4.row,this.numberOfEnemies=this.jsonMap.json.Level1.wave4.numberOfEnemies):5===this.waveID?(this._map=this.jsonMap.json.Level1.wave5.map,this._mapColl=this.jsonMap.json.Level1.wave5.collumn,this._mapRow=this.jsonMap.json.Level1.wave5.row,this.numberOfEnemies=this.jsonMap.json.Level1.wave5.numberOfEnemies):6===this.waveID&&(t=!0,this._map=this.jsonMap.json.Level1.wave6.map,this._mapColl=this.jsonMap.json.Level1.wave6.collumn,this._mapRow=this.jsonMap.json.Level1.wave6.row,this.numberOfEnemies=this.jsonMap.json.Level1.wave6.numberOfEnemies),t?(this.waveLabel.string=this._lastLabel,this.waveLabel.node.active=!0,this.waveLabel.node.scale=0,cc.tween(this.waveLabel.node).to(1,{scale:1}).to(.5,{opacity:0}).to(.5,{opacity:255}).to(.5,{opacity:0}).to(.5,{opacity:255}).to(1,{scale:0}).call(function(){return e._lastLabel=""}).call(function(){return e.waveLabel.node.active=!1}).call(function(){return e.renderWave(e._map,e._mapColl,e._mapRow)}).call(function(){return e.boss.active=!0}).start()):(this.waveLabel.string="Wave "+this.waveID,this.waveLabel.node.active=!0,this.waveLabel.node.scale=0,cc.tween(this.waveLabel.node).to(1,{scale:1}).to(.5,{opacity:0}).to(.5,{opacity:255}).to(.5,{opacity:0}).to(.5,{opacity:255}).to(1,{scale:0}).call(function(){return e.waveLabel.node.active=!1}).call(function(){return e.renderWave(e._map,e._mapColl,e._mapRow)}).start())}}),cc._RF.pop()},{EventsListener:"EventsListener"}],MenuStart:[function(e,t,n){"use strict";cc._RF.push(t,"699d8xhnG1GJInwL3xU37uj","MenuStart"),cc.Class({extends:cc.Component,properties:{startBtn:cc.Button,introduction:cc.Node,mainGame:cc.Node},start:function(){},onIntroClick:function(){this.node.active=!1,this.introduction.active=!0},onStartClick:function(){this.node.active=!1,this.mainGame.active=!0}}),cc._RF.pop()},{}],PlayerBulletScript:[function(e,t,n){"use strict";cc._RF.push(t,"330c7Vu5KVFn4etsb5BBVSC","PlayerBulletScript");var i=e("EventsListener");cc.Class({extends:cc.Component,properties:{greenBulletPre:cc.Prefab,blueBulletPre:cc.Prefab,redBulletPre:cc.Prefab,orangeBulletPre:cc.Prefab,_currentBullet:null,_currentPre:null,_greenFlag:!1,_blueFlag:!1,_redFlag:!1,_orangeFlag:!1,_canShootFlag:!1,_countDown:0},onLoad:function(){i.instance=new i,i.instance.registerEvent("skin",this.typeOfBullet.bind(this)),i.instance.registerEvent("letShoot",this.letShoot.bind(this))},typeOfBullet:function(e,t,n,i){this._canShootFlag=!0,this._countDown=0,e?this._currentPre=this.greenBulletPre:t?this._currentPre=this.blueBulletPre:n?this._currentPre=this.redBulletPre:i&&(this._currentPre=this.orangeBulletPre)},letShoot:function(){if(this.bulletPos=this.node.convertToWorldSpaceAR(this.node.position),this.bulletPos=this.node.parent.parent.convertToNodeSpaceAR(this.bulletPos),this._canShootFlag)if(this._countDown=0,this._canShootFlag=!1,this._currentPre!=this.redBulletPre)this.currentBullet=cc.instantiate(this._currentPre),this.currentBullet.parent=cc.Canvas.instance.node,this.currentBullet.position=this.bulletPos;else if(this._currentPre==this.redBulletPre){var e=cc.instantiate(this._currentPre);e.parent=cc.Canvas.instance.node,e.position=this.bulletPos;var t=cc.instantiate(this._currentPre);t.parent=cc.Canvas.instance.node,t.position=this.bulletPos,t.angle=35;var n=cc.instantiate(this._currentPre);n.parent=cc.Canvas.instance.node,n.position=this.bulletPos,n.angle=-35}},update:function(){this.countTimeShoot()},countTimeShoot:function(){this._currentPre===this.greenBulletPre?(this._countDown+=1,20===this._countDown&&(this._canShootFlag=!0)):this._currentPre===this.blueBulletPre?(this._countDown+=1,5===this._countDown&&(this._canShootFlag=!0)):this._currentPre===this.redBulletPre?(this._countDown+=1,40===this._countDown&&(this._canShootFlag=!0)):this._currentPre===this.orangeBulletPre?(this._countDown+=1,30===this._countDown&&(this._canShootFlag=!0)):this._countDown=0}}),cc._RF.pop()},{EventsListener:"EventsListener"}],PlayerHealthBar:[function(e,t,n){"use strict";cc._RF.push(t,"44f96IOMuhGMpfo5R3PduqF","PlayerHealthBar");var i=e("EventsListener");cc.Class({extends:cc.Component,properties:{},start:function(){i.instance.registerEvent("healthbar",this.health.bind(this))},health:function(e){this.node.getComponent(cc.ProgressBar).progress=e/100,this.node.getComponent(cc.ProgressBar).progress>=.7?this.node.getChildByName("bar").color=cc.Color.GREEN:this.node.getComponent(cc.ProgressBar).progress<.7&&this.node.getComponent(cc.ProgressBar).progress>.3?this.node.getChildByName("bar").color=cc.Color.YELLOW:this.node.getChildByName("bar").color=cc.Color.RED},update:function(e){}}),cc._RF.pop()},{EventsListener:"EventsListener"}],"SpaceShip Controller":[function(e,t,n){"use strict";cc._RF.push(t,"905ccz7eb9BFIRWs2ZrOEv2","SpaceShip Controller");var i=e("EventsListener");cc.Class({extends:cc.Component,properties:{_mousePos:cc.v2,playerHealth:100,_currentSkin:null,spriteFrameGreen:{default:null,type:cc.SpriteFrame,_flag:!1},spriteFrameBlue:{default:null,type:cc.SpriteFrame,_flag:!1},spriteFrameRed:{default:null,type:cc.SpriteFrame,_flag:!1},spriteFrameOrange:{default:null,type:cc.SpriteFrame,_flag:!1},timing:cc.Label,nodeEndGame:cc.Node},onLoad:function(){cc.Canvas.instance.node.on("mousemove",this.getMousePosition.bind(this)),this.node.on("mousedown",this.shoot,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this),this._currentSkin=this.node.getComponent(cc.Sprite)},getMousePosition:function(e){this._mousePos=e.getLocation()},shoot:function(e){0===e._button&&i.instance.emit("letShoot")},onKeyDown:function(e){if(null!==this.node)switch(this.spriteFrameGreen._flag=!1,this.spriteFrameBlue._flag=!1,this.spriteFrameRed._flag=!1,this.spriteFrameOrange._flag=!1,e.keyCode){case cc.macro.KEY.z:this.spriteFrameGreen._flag=!0,this.changeSkin();break;case cc.macro.KEY.x:this.spriteFrameBlue._flag=!0,this.changeSkin();break;case cc.macro.KEY.c:this.spriteFrameRed._flag=!0,this.changeSkin();break;case cc.macro.KEY.v:this.spriteFrameOrange._flag=!0,this.changeSkin()}},update:function(e){var t=cc.Canvas.instance.node.getContentSize();null!=this._mousePos&&(this.node.position=cc.v2(this._mousePos.x-t.width/2,this._mousePos.y-t.height/2))},changeSkin:function(){this.spriteFrameGreen._flag?(this._currentSkin.spriteFrame=this.spriteFrameGreen,i.instance.emit("skin",this.spriteFrameGreen._flag,this.spriteFrameBlue._flag,this.spriteFrameRed._flag,this.spriteFrameOrange._flag)):this.spriteFrameBlue._flag?(this._currentSkin.spriteFrame=this.spriteFrameBlue,i.instance.emit("skin",this.spriteFrameGreen._flag,this.spriteFrameBlue._flag,this.spriteFrameRed._flag,this.spriteFrameOrange._flag)):this.spriteFrameRed._flag?(this._currentSkin.spriteFrame=this.spriteFrameRed,i.instance.emit("skin",this.spriteFrameGreen._flag,this.spriteFrameBlue._flag,this.spriteFrameRed._flag,this.spriteFrameOrange._flag)):this.spriteFrameOrange._flag&&(this._currentSkin.spriteFrame=this.spriteFrameOrange,i.instance.emit("skin",this.spriteFrameGreen._flag,this.spriteFrameBlue._flag,this.spriteFrameRed._flag,this.spriteFrameOrange._flag))},onCollisionEnter:function(e,t){"Enemies"==e.node.group||"Boss"==e.node.group?this.dead():"Enemies Bullet"==e.node.group&&(e.node.destroy(),this.playerHealth-=10,this.playerHealth<=0?(i.instance.emit("healthbar",this.playerHealth),this.dead()):this.getDamge())},getDamge:function(){i.instance.emit("healthbar",this.playerHealth),cc.tween(this.node).to(.1,{opacity:155}).to(.1,{opacity:255}).to(.1,{opacity:155}).to(.1,{opacity:255}).to(.1,{opacity:155}).to(.1,{opacity:255}).start()},dead:function(){var e=this.timing.getComponent("updatingTime").totalTime;this.nodeEndGame.active=!0,i.instance.emit("playerDead"),i.instance.emit("endGame",e),this.node.destroy()}}),cc._RF.pop()},{EventsListener:"EventsListener"}],boss1:[function(e,t,n){"use strict";cc._RF.push(t,"71bb7OlAmpPWIN3p0M1UYFw","boss1");var i=e("EventsListener");cc.Class({extends:cc.Component,properties:{maxHealth:{default:1e3,serializable:!1},_timerHit:0,prefabBullet:cc.Prefab,healthBar:cc.ProgressBar,timing:cc.Label,nodeEndGame:cc.Node,playerNode:cc.Node},start:function(){this.moveIn()},movingBoss:function(){var e=cc.Canvas.instance.node.getContentSize().width,t=this.node.width,n=cc.tween().to(3,{x:e/2-t/2}).to(.01,{scaleX:-1}).to(6,{x:-(e/2-t/2)}).to(.01,{scaleX:1}).to(3,{x:0});cc.tween(this.node).then(n).repeatForever().start()},moveIn:function(){var e=this;cc.tween(this.node).to(1,{position:cc.v2(-27,120)}).call(function(){return e.movingBoss()}).start()},actionHit:function(){this.node.getComponent(cc.Animation).play("bossHit")},hit:function(){for(var e=this.node.x-80,t=this.node.y-80,n=1;n<=4;n++){var i=cc.instantiate(this.prefabBullet);i.setPosition(e,t),i.parent=this.node.parent,1===n&&(t-=80),3===n&&(t+=80),e+=80,i.getComponent("bulletBoss").bulletNumber=n}},deathBoss:function(){var e=this.timing.getComponent("updatingTime").totalTime;this.nodeEndGame.active=!0,i.instance.emit("endGame",e),this.node.stopAllActions(),this.node.destroy(),this.playerNode.destroy()},update:function(e){this._timerHit+=e,this._timerHit>1.5&&(this.actionHit(),this._timerHit=0)},getDamage:function(){this.healthBar.getComponent(cc.ProgressBar).progress=this.maxHealth/1e3,this.maxHealth<=0&&this.deathBoss(),cc.tween(this.node).to(.1,{opacity:155}).to(.1,{opacity:255}).to(.1,{opacity:155}).to(.1,{opacity:255}).to(.1,{opacity:155}).to(.1,{opacity:255}).start()}}),cc._RF.pop()},{EventsListener:"EventsListener"}],bulletBoss:[function(e,t,n){"use strict";cc._RF.push(t,"47d62IUH0FE6Zwj6Otb5WiI","bulletBoss"),cc.Class({extends:cc.Component,properties:{bulletNumber:0},start:function(){var e=this;this._heightCanvas=cc.Canvas.instance.node.getContentSize().height,1===this.bulletNumber&&cc.tween(this.node).by(4,{x:-800,y:-800}).call(function(){return e.node.destroy()}).start(),2===this.bulletNumber&&cc.tween(this.node).by(3,{x:-250,y:-533}).call(function(){return e.node.destroy()}).start(),3===this.bulletNumber&&cc.tween(this.node).by(3,{x:250,y:-533}).call(function(){return e.node.destroy()}).start(),4===this.bulletNumber&&cc.tween(this.node).by(4,{x:800,y:-800}).call(function(){return e.node.destroy()}).start()},update:function(e){this.node.angle+=10,this.node.y<-(this._heightCanvas/2+this.node.height)&&this.node.destroy()}}),cc._RF.pop()},{}],bulletPlayer:[function(e,t,n){"use strict";cc._RF.push(t,"42dd9VYUWhDmJiN2n/mu2lc","bulletPlayer"),cc.Class({extends:e("bulletVertical"),properties:{},start:function(){this._heightCanvas=cc.Canvas.instance.node.getContentSize().height,cc.tween(this.node).by(this.speed,{x:this.bulletToX-this.node.x,y:this.bulletToY-this.node.y}).repeatForever().start()},update:function(e){this.node.y<-(this._heightCanvas/2+this.node.height)&&this.node.destroy()}}),cc._RF.pop()},{bulletVertical:"bulletVertical"}],bulletThreeWay:[function(e,t,n){"use strict";cc._RF.push(t,"88ae9mIMTlPFqkjXmh2Rlnn","bulletThreeWay"),cc.Class({extends:e("bulletVertical"),properties:{bulletNumber:0},start:function(){var e=this;this._heightCanvas=cc.Canvas.instance.node.getContentSize().height,1===this.bulletNumber&&cc.tween(this.node).by(4,{x:-700,y:-700}).call(function(){return e.node.destroy()}).start(),2===this.bulletNumber&&cc.tween(this.node).by(4,{x:700,y:-700}).call(function(){return e.node.destroy()}).start(),3===this.bulletNumber&&cc.tween(this.node).by(4,{x:0,y:-700}).call(function(){return e.node.destroy()}).start()},update:function(e){this.node.y<-(this._heightCanvas/2+this.node.height)&&this.node.destroy()}}),cc._RF.pop()},{bulletVertical:"bulletVertical"}],bulletVertical:[function(e,t,n){"use strict";cc._RF.push(t,"67947JRAidFNYTKaLXeh/Vp","bulletVertical"),cc.Class({extends:cc.Component,properties:{speed:1,_heightCanvas:0},start:function(){this._heightCanvas=cc.Canvas.instance.node.getContentSize().height,cc.tween(this.node).by(this.speed,{x:0,y:-500}).repeatForever().start()},update:function(e){this.node.y<-(this._heightCanvas/2+this.node.height)&&this.node.destroy()}}),cc._RF.pop()},{}],enemyPlayerShoot:[function(e,t,n){"use strict";cc._RF.push(t,"c0d9ev+ZO9HEY96OYONk8JR","enemyPlayerShoot");var i=e("EventsListener");cc.Class({extends:cc.Component,properties:{prefabBullet:cc.Prefab,_timerShoot:0,maxHealth:100,healthBar:cc.ProgressBar},start:function(){this.moving()},moving:function(){var e=this,t=Math.random();cc.tween(this.node).to(1.5,{x:this.moveToX,y:this.moveToY}).call(function(){t>.5?e.standingAction1():e.standingAction2()}).start()},standingAction1:function(){cc.tween(this.node).repeatForever(cc.tween(this.node).by(1,{x:10}).by(2,{x:-20}).by(1,{x:10})).start()},standingAction2:function(){cc.tween(this.node).repeatForever(cc.tween(this.node).by(1,{x:-10}).by(2,{x:20}).by(1,{x:-10})).start()},shoot:function(e,t){var n=this.node.convertToWorldSpaceAR(this.node.position);n=this.node.convertToNodeSpaceAR(n);var i=cc.instantiate(this.prefabBullet);i.setPosition(n.x,n.y),i.parent=this.node.parent,i.getComponent("bulletPlayer").bulletToX=e,i.getComponent("bulletPlayer").bulletToY=t},update:function(e){if(this._timerShoot+=e,this._timerShoot>=1){var t=this.node.parent.getChildByName("Main Game").getChildByName("Player");if(null!=t){var n=t.x,i=t.y;this.shoot(n,i)}this._timerShoot=0}this.maxHealth<=0&&this.dead()},getDamage:function(){this.healthBar.getComponent(cc.ProgressBar).progress=this.maxHealth/100},dead:function(){i.instance.emit("countEnemies"),this.node.destroy()}}),cc._RF.pop()},{EventsListener:"EventsListener"}],enemyThreeWayShoot:[function(e,t,n){"use strict";cc._RF.push(t,"39d29X9knpNVIp1VBC18GIX","enemyThreeWayShoot");var i=e("EventsListener");cc.Class({extends:cc.Component,properties:{moveToX:0,moveToY:0,prefabBullet:cc.Prefab,_timerShoot:0,maxHealth:100,healthBar:cc.ProgressBar},start:function(){this.moving()},moving:function(){var e=this,t=Math.random();cc.tween(this.node).to(1.5,{x:this.moveToX,y:this.moveToY}).call(function(){t>.5?e.standingAction1():e.standingAction2()}).start()},shoot:function(){var e=this.node.convertToWorldSpaceAR(this.node.position);e=this.node.convertToNodeSpaceAR(e);var t=cc.instantiate(this.prefabBullet);t.parent=cc.Canvas.instance.node,t.setPosition(e.x,e.y),t.getComponent("bulletThreeWay").bulletNumber=1;var n=cc.instantiate(this.prefabBullet);n.parent=cc.Canvas.instance.node,n.setPosition(e.x,e.y),n.getComponent("bulletThreeWay").bulletNumber=2;var i=cc.instantiate(this.prefabBullet);i.parent=cc.Canvas.instance.node,i.setPosition(e.x,e.y),i.getComponent("bulletThreeWay").bulletNumber=3},standingAction1:function(){cc.tween(this.node).repeatForever(cc.tween(this.node).by(1,{x:10}).by(2,{x:-20}).by(1,{x:10})).start()},standingAction2:function(){cc.tween(this.node).repeatForever(cc.tween(this.node).by(1,{x:-10}).by(2,{x:20}).by(1,{x:-10})).start()},update:function(e){this._timerShoot+=e,this._timerShoot>=2&&(this.shoot(),this._timerShoot=0),this.maxHealth<=0&&this.dead()},getDamage:function(){this.healthBar.getComponent(cc.ProgressBar).progress=this.maxHealth/100},dead:function(){i.instance.emit("countEnemies"),this.node.destroy()}}),cc._RF.pop()},{EventsListener:"EventsListener"}],enemyVerticalShoot:[function(e,t,n){"use strict";cc._RF.push(t,"24862NC7ShJbJubfRFpfKDn","enemyVerticalShoot");var i=e("EventsListener");cc.Class({extends:cc.Component,properties:{moveToX:0,moveToY:0,prefabBullet:cc.Prefab,_timerShoot:0,maxHealth:50,healthBar:cc.ProgressBar},start:function(){this.moving()},moving:function(){var e=this,t=Math.random();cc.tween(this.node).to(1.5,{x:this.moveToX,y:this.moveToY}).call(function(){t>.5?e.standingAction1():e.standingAction2()}).start()},shoot:function(){var e=this.node.convertToWorldSpaceAR(this.node.position);e=this.node.convertToNodeSpaceAR(e);var t=cc.instantiate(this.prefabBullet);t.setPosition(e.x,e.y),t.parent=this.node.parent},standingAction1:function(){cc.tween(this.node).repeatForever(cc.tween(this.node).by(1,{x:10}).by(2,{x:-20}).by(1,{x:10})).start()},standingAction2:function(){cc.tween(this.node).repeatForever(cc.tween(this.node).by(1,{x:-10}).by(2,{x:20}).by(1,{x:-10})).start()},update:function(e){this._timerShoot+=e,this._timerShoot>=1&&(this.shoot(),this._timerShoot=0),this.maxHealth<=0&&this.dead()},getDamage:function(){this.healthBar.getComponent(cc.ProgressBar).progress=this.maxHealth/50},dead:function(){i.instance.emit("countEnemies"),this.node.destroy()}}),cc._RF.pop()},{EventsListener:"EventsListener"}],gameOver:[function(e,t,n){"use strict";cc._RF.push(t,"d729coScn1Cp7Ae59Rlt24+","gameOver");var i=e("EventsListener");cc.Class({extends:cc.Component,properties:{editBoxName:cc.EditBox,btnEnterName:cc.Button,btnHome:cc.Button,prefabRanking:cc.Prefab,scrollViewRanking:cc.ScrollView,_content:null,arrRanking:[],_time:0},onLoad:function(){this._content=this.scrollViewRanking.node.getChildByName("view").getChildByName("content"),i.instance.registerEvent("endGame",this.getTime.bind(this));var e=cc.sys.localStorage.getItem("ranked");this.arrRanking=null!==e?JSON.parse(e):[]},getTime:function(e){this._time=e},homeClick:function(){cc.director.loadScene("Game")},enterName:function(){var e={name:"",time:0};e.name=this.editBoxName.string,e.time=Number(this._time),this.arrRanking.push(e),this.sortArrRanking(this.arrRanking),cc.sys.localStorage.setItem("ranked",JSON.stringify(this.arrRanking)),this.showRanking(this.arrRanking),this.scrollViewRanking.node.active=!0,this.btnEnterName.node.active=!1,this.btnHome.node.active=!0},showRanking:function(e){var t=0;this._content.removeAllChildren(!0);for(var n=0;n<e.length;n++){var i=cc.instantiate(this.prefabRanking),s=i.getChildByName("lblName"),o=i.getChildByName("lblTime");s.getComponent(cc.Label).string=e[n].name,o.getComponent(cc.Label).string=this.timeConvert(e[n].time),i.parent=this._content,i.y=t-=31}},sortArrRanking:function(e){for(var t=0;t<e.length-1;t++)for(var n=t+1;n<e.length;n++)if(e[t].time>e[n].time){var i=e[t];e[t]=e[n],e[n]=i}},timeConvert:function(e){var t=Math.floor(e/60);t<10&&(t="0"+t);var n=e%60;return n<10&&(n="0"+n),t+":"+n}}),cc._RF.pop()},{EventsListener:"EventsListener"}],moveBG:[function(e,t,n){"use strict";cc._RF.push(t,"a1065tA/MdL2JhrnMS9zJ6s","moveBG"),cc.Class({extends:cc.Component,properties:{},start:function(){},update:function(e){this.node.y>-this.node.height?this.node.y-=5:this.node.y=this.node.height}}),cc._RF.pop()},{}],updatingTime:[function(e,t,n){"use strict";cc._RF.push(t,"69bd58Mb31DqoQIjkCuukHL","updatingTime");var i=e("EventsListener");cc.Class({extends:cc.Component,properties:{_timerUpdateTime:0,_timeStart:{default:0,serializable:!1},_timeNow:{default:0,serializable:!1},_updating:!0,totalTime:0},onLoad:function(){i.instance.registerEvent("endGame",this.stopUpdateTime.bind(this))},stopUpdateTime:function(){this._updating=!1},start:function(){},update:function(e){this._timerUpdateTime+=e,this._timerUpdateTime>1&&!0===this._updating&&(this._timeNow+=1,this.updateTime(this._timeNow),this._timerUpdateTime=0)},updateTime:function(e){var t=1e3*(e-this._timeStart);t=t.toLocaleString("it-IT"),this.totalTime=t,this.node.getComponent(cc.Label).string=this.timeConvert(t)},timeConvert:function(e){var t=Math.floor(e/60);t<10&&(t="0"+t);var n=e%60;return n<10&&(n="0"+n),t+":"+n}}),cc._RF.pop()},{EventsListener:"EventsListener"}]},{},["BullShootDirection","EventsListener","Introduction ","LaserGreen","Level1","MenuStart","PlayerBulletScript","PlayerHealthBar","SpaceShip Controller","boss1","bulletBoss","bulletPlayer","bulletThreeWay","bulletVertical","enemyPlayerShoot","enemyThreeWayShoot","enemyVerticalShoot","gameOver","moveBG","updatingTime"]);