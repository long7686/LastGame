{"version":3,"sources":["..\\..\\..\\..\\assets\\Scripts/assets\\Scripts\\BullShootDirection.js"],"names":["cc","Class","extends","Component","properties","_speedBullet","laserGreenPre","Prefab","bulletDamge","onLoad","start","node","name","redBulletType","orangeBulletType","greenBulletType","blueBulletType","tween","by","y","call","getComponent","Animation","play","destroy","angle","x","collisionCircle","CircleCollider","enabled","scale","opacity","greenBulletAnimation","lazer1","instantiate","parent","Canvas","instance","position","lazer2","lazer3","lazer4","onCollisionEnter","other","self","tag","group","maxHealth","getDamage","onCollisionStay","playSound"],"mappings":"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","file":"BullShootDirection.js","sourceRoot":"..\\..\\..\\..\\assets\\Scripts","sourcesContent":["cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        _speedBullet: 1000,\r\n        laserGreenPre: cc.Prefab,\r\n        bulletDamge :0\r\n    },\r\n\r\n    onLoad () {\r\n        \r\n    },\r\n\r\n    start () {\r\n        if(this.node.name === \"RedBullet\"){\r\n            this.redBulletType()\r\n            this.bulletDamge = 50\r\n        }\r\n        else if(this.node.name === \"OrangeBullet\"){\r\n            this.orangeBulletType()\r\n            this.bulletDamge = 0.5\r\n        }\r\n        else if(this.node.name === \"GreenBullet\"){\r\n            this.greenBulletType()\r\n        }\r\n        else if (this.node.name === \"BlueBullet\"){\r\n            this.blueBulletType()\r\n            this.bulletDamge = 10\r\n        }\r\n\r\n    },\r\n\r\n    greenBulletType(){\r\n        this._speedBullet = 400\r\n        cc.tween(this.node)\r\n            .by(0.6, {y: this._speedBullet})\r\n            .call(() => this.node.getComponent(cc.Animation).play())\r\n            .start()\r\n    },\r\n\r\n    blueBulletType(){\r\n        this._speedBullet = 1000\r\n        cc.tween(this.node)\r\n            .by(1, {y: this._speedBullet})\r\n            .call(() => this.node.destroy())\r\n            .start()\r\n    },\r\n\r\n    redBulletType(){\r\n        this._speedBullet = 500\r\n        if (this.node.angle == 0){\r\n            cc.tween(this.node)\r\n            .by(1, {y: this._speedBullet})\r\n            .call(() => this.node.destroy())\r\n            .start()\r\n        }\r\n        else if(this.node.angle == 35){\r\n            cc.tween(this.node)\r\n            .by(1, {x: -this._speedBullet, y: this._speedBullet})\r\n            .call(() => this.node.destroy())\r\n            .start()\r\n        }\r\n        else if(this.node.angle == -35){\r\n            cc.tween(this.node)\r\n            .by(1, {x: this._speedBullet, y: this._speedBullet})\r\n            .call(() => this.node.destroy())\r\n            .start()\r\n        }\r\n    },\r\n\r\n    orangeBulletType(){\r\n\r\n        let collisionCircle = this.node.getComponent(cc.CircleCollider)\r\n        collisionCircle.enabled = false\r\n        this._speedBullet = 200\r\n        cc.tween(this.node)\r\n            .by(0.5, {y: this._speedBullet, angle:-360*2})\r\n            .call(()=> collisionCircle.enabled = true)\r\n            .by(1, {scale:4,angle:-360*2})\r\n            .by(1, {scale:-4,angle:-360*2, opacity:-150})\r\n            .call(() => this.node.destroy())\r\n            .start()\r\n\r\n    },\r\n\r\n    greenBulletAnimation(){\r\n        let lazer1 = cc.instantiate(this.laserGreenPre)\r\n        lazer1.parent = cc.Canvas.instance.node\r\n        lazer1.position = this.node.position\r\n        lazer1.angle = 0\r\n\r\n        let lazer2 = cc.instantiate(this.laserGreenPre)\r\n        lazer2.parent = cc.Canvas.instance.node\r\n        lazer2.position = this.node.position\r\n        lazer2.angle = 90\r\n\r\n        let lazer3 = cc.instantiate(this.laserGreenPre)\r\n        lazer3.parent = cc.Canvas.instance.node\r\n        lazer3.position = this.node.position\r\n        lazer3.angle = 180\r\n\r\n        let lazer4 = cc.instantiate(this.laserGreenPre)\r\n        lazer4.parent = cc.Canvas.instance.node\r\n        lazer4.position = this.node.position\r\n        lazer4.angle = 270\r\n\r\n        this.node.destroy()\r\n    },\r\n\r\n    onCollisionEnter(other, self){\r\n        if(self.tag != 3){\r\n            this.node.destroy()\r\n        }\r\n\r\n\r\n        if (other.node.group ===\"Enemies\"){\r\n             if (other.node.getComponent(\"enemyVerticalShoot\") != null){\r\n                other.node.getComponent(\"enemyVerticalShoot\").maxHealth -= this.bulletDamge\r\n                other.node.getComponent(\"enemyVerticalShoot\").getDamage()\r\n            }\r\n            else if (other.node.getComponent(\"enemyThreeWayShoot\") != null){\r\n                other.node.getComponent(\"enemyThreeWayShoot\").maxHealth -= this.bulletDamge\r\n                other.node.getComponent(\"enemyThreeWayShoot\").getDamage()\r\n            }\r\n            else if (other.node.getComponent(\"enemyPlayerShoot\") != null){\r\n                other.node.getComponent(\"enemyPlayerShoot\").maxHealth -= this.bulletDamge\r\n                other.node.getComponent(\"enemyPlayerShoot\").getDamage()\r\n            }   \r\n        }\r\n        else if(other.node.group ===\"Boss\"){\r\n            other.node.getComponent(\"boss1\").maxHealth -= this.bulletDamge\r\n            other.node.getComponent(\"boss1\").getDamage()\r\n       }\r\n    },\r\n\r\n    onCollisionStay(other, self){\r\n        if (self.tag === 3){\r\n            if (other.node.group ===\"Enemies\"){\r\n                if (other.node.getComponent(\"enemyVerticalShoot\") != null){\r\n                   other.node.getComponent(\"enemyVerticalShoot\").maxHealth -= this.bulletDamge\r\n                   other.node.getComponent(\"enemyVerticalShoot\").getDamage()\r\n                }\r\n               else if (other.node.getComponent(\"enemyThreeWayShoot\") != null){\r\n                   other.node.getComponent(\"enemyThreeWayShoot\").maxHealth -= this.bulletDamge\r\n                   other.node.getComponent(\"enemyThreeWayShoot\").getDamage()\r\n                }\r\n               else if (other.node.getComponent(\"enemyPlayerShoot\") != null){\r\n                   other.node.getComponent(\"enemyPlayerShoot\").maxHealth -= this.bulletDamge\r\n                   other.node.getComponent(\"enemyPlayerShoot\").getDamage()\r\n                }   \r\n           }\r\n           else if(other.node.group ===\"Boss\"){\r\n                other.node.getComponent(\"boss1\").maxHealth -= this.bulletDamge\r\n                other.node.getComponent(\"boss1\").getDamage()\r\n           }\r\n        }\r\n    },\r\n\r\n    playSound(){\r\n\r\n    },\r\n});\r\n"]}