{"version":3,"sources":["..\\..\\..\\..\\assets\\Scripts/assets\\Scripts\\boss1.js"],"names":["cc","Class","extends","Component","properties","health","prefabBoss","Prefab","_timerDeath","start","movingBoss","widthCanvas","Canvas","instance","node","getContentSize","width","widthBoss","moving","tween","to","x","scaleX","then","repeatForever","deathBoss","destroy","createClone","i","miniBoss","instantiate","setPosition","y","parent","getComponent","movingRight","settingWidth","settingHeight","height","update","dt","log"],"mappings":";;;;;;AACAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,gBAAQ,CADA;AAERC,oBAAaN,GAAGO,MAFR;AAGRC,qBAAY;AAHJ,KAHP;;AASL;;AAEA;;AAEAC,SAbK,mBAaI;AACL,aAAKC,UAAL;AACH,KAfI;AAiBLA,cAjBK,wBAiBO;AACR,YAAIC,cAAcX,GAAGY,MAAH,CAAUC,QAAV,CAAmBC,IAAnB,CAAwBC,cAAxB,GAAyCC,KAA3D;AACA,YAAIC,YAAY,KAAKH,IAAL,CAAUE,KAA1B;;AAEA,YAAIE,SAASlB,GAAGmB,KAAH,GACRC,EADQ,CACL,CADK,EACF,EAACC,GAAGV,cAAY,CAAZ,GAAgBM,YAAU,CAA9B,EADE,EAERG,EAFQ,CAEL,IAFK,EAEC,EAACE,QAAQ,CAAC,CAAV,EAFD,EAGRF,EAHQ,CAGL,CAHK,EAGF,EAACC,GAAG,EAAEV,cAAY,CAAZ,GAAgBM,YAAU,CAA5B,CAAJ,EAHE,EAIRG,EAJQ,CAIL,IAJK,EAIC,EAACE,QAAQ,CAAT,EAJD,EAKRF,EALQ,CAKL,CALK,EAKF,EAACC,GAAG,CAAJ,EALE,CAAb;AAMIrB,WAAGmB,KAAH,CAAS,KAAKL,IAAd,EAAoBS,IAApB,CAAyBL,MAAzB,EAAiCM,aAAjC,GAAiDf,KAAjD;AACP,KA5BI;AA8BLgB,aA9BK,uBA8BM;AACP,aAAKX,IAAL,CAAUY,OAAV;AACA,aAAKC,WAAL;AACH,KAjCI;AAmCLA,eAnCK,yBAmCQ;AACT,aAAK,IAAIC,IAAI,CAAb,EAAgBA,KAAK,CAArB,EAAwBA,GAAxB,EAA6B;AACzB,gBAAIC,WAAW7B,GAAG8B,WAAH,CAAe,KAAKxB,UAApB,CAAf;AACAuB,qBAASE,WAAT,CAAqB,KAAKjB,IAAL,CAAUO,CAA/B,EAAkC,KAAKP,IAAL,CAAUkB,CAA5C;AACAH,qBAASI,MAAT,GAAkB,KAAKnB,IAAL,CAAUmB,MAA5B;AACA,gBAAGL,MAAM,CAAT,EAAW;AACPC,yBAASK,YAAT,CAAsB,YAAtB,EAAoCC,WAApC,GAAkD,KAAlD;AACH;AACDN,qBAASK,YAAT,CAAsB,YAAtB,EAAoCE,YAApC,GAAmD,KAAKtB,IAAL,CAAUE,KAAV,GAAgB,CAAhB,GAAkB,CAArE;AACAa,qBAASK,YAAT,CAAsB,YAAtB,EAAoCG,aAApC,GAAoD,KAAKvB,IAAL,CAAUwB,MAAV,GAAiB,CAAjB,GAAmB,CAAvE;AAEH;AACJ,KA/CI;AAiDLC,UAjDK,kBAiDGC,EAjDH,EAiDM;AACP,aAAKhC,WAAL,IAAkBgC,EAAlB;AACA,YAAG,KAAKhC,WAAL,IAAkB,CAAlB,IAAuB,KAAKH,MAAL,KAAgB,CAA1C,EAA4C;AACxCL,eAAGyC,GAAH,CAAO,KAAP;AACA,iBAAKhB,SAAL;AACA,iBAAKpB,MAAL,GAAc,EAAd;AACH;AACJ;AAxDI,CAAT","file":"boss1.js","sourceRoot":"..\\..\\..\\..\\assets\\Scripts","sourcesContent":["\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        health: 0,\n        prefabBoss : cc.Prefab,\n        _timerDeath:0,\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    // onLoad () {},\n\n    start () {\n        this.movingBoss();\n    },\n\n    movingBoss(){\n        let widthCanvas = cc.Canvas.instance.node.getContentSize().width;\n        let widthBoss = this.node.width;\n\n        let moving = cc.tween()\n            .to(3, {x: widthCanvas/2 - widthBoss/2})\n            .to(0.01, {scaleX: -1})\n            .to(6, {x: -(widthCanvas/2 - widthBoss/2)})\n            .to(0.01, {scaleX: 1})\n            .to(3, {x: 0 })\n            cc.tween(this.node).then(moving).repeatForever().start();\n    },\n\n    deathBoss(){\n        this.node.destroy();\n        this.createClone();\n    },\n\n    createClone(){\n        for (let i = 1; i <= 2; i++) {\n            let miniBoss = cc.instantiate(this.prefabBoss);\n            miniBoss.setPosition(this.node.x, this.node.y);\n            miniBoss.parent = this.node.parent;\n            if(i === 1){\n                miniBoss.getComponent('prefabBoss').movingRight = false;\n            }\n            miniBoss.getComponent('prefabBoss').settingWidth = this.node.width*2/3;\n            miniBoss.getComponent('prefabBoss').settingHeight = this.node.height*2/3;\n            \n        }\n    },\n\n    update (dt){\n        this._timerDeath+=dt;\n        if(this._timerDeath>=5 && this.health === 0){\n            cc.log('asd');\n            this.deathBoss();\n            this.health = 10;\n        }\n    },\n});\n"]}