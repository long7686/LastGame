{"version":3,"sources":["enemy.js"],"names":["cc","Class","extends","Component","properties","_countdownShoot","_speed","_timerShoot","start","getRandomInt","update","dt","countdownShoot"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,yBAAiB,CADT;AAERC,gBAAQ,CAFA;AAGhB;AACQC,qBAAa;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AApBgB,KAHP;;AA0BT;;AAEA;AACA;;AAEIC,SA/BK,mBA+BI;AACL,aAAKH,eAAL,GAAuB,KAAKI,YAAL,CAAkB,CAAlB,IAAuB,CAA9C;AACA,aAAKH,MAAL,GAAc,KAAKG,YAAL,CAAkB,CAAlB,IAAuB,CAArC;AACR;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AAEK,KA5CI;;;AA8CT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEIC,UAxFK,kBAwFGC,EAxFH,EAwFO;AACR,YAAG,KAAKJ,WAAL,GAAkB,KAAKK,cAA1B,EAAyC;AACrC,iBAAKP,eAAL,GAAuB,KAAKI,YAAL,CAAkB,CAAlB,IAAuB,CAA9C;AACA,iBAAKH,MAAL,GAAc,KAAKG,YAAL,CAAkB,CAAlB,IAAuB,CAArC;AACH;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACK;AAzGI,CAAT","file":"enemy.js","sourceRoot":"..\\..\\..\\..\\assets\\Scripts","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        _countdownShoot: 0,\n        _speed: 1,\n//         _health: 100,\n        _timerShoot: 0,\n//         // timer bắn\n//         _countdownShoot: 0,\n//         // thời gian giữa các lần bắn\n//         _speed: 1,\n//         _maxWidthScene:0,\n//         _maxHeightScene:0,\n//         typeShootEnemy: 1, \n//         // typeShoot = 1 : không bắn, typeShoot = 2 : bắn theo chiều dọc, typeShoot = 3 : lấy vị trí của player để bắn\n//         typeEnemy: 1,\n//         // typeEnemy = 1 : move đến vị trí cố định, typeEnemy = 2 : move theo timeline. \n//         enemyToX: 0,\n//         enemyToY: 0,\n//         // vị trí x và y bay đến\n//         delayMove: 0,\n//         // t.gian delay khi thực hiện animate\n//         prefabBullet : cc.Prefab,\n    },\n\n//     // LIFE-CYCLE CALLBACKS:\n\n//     onLoad () {\n//     },\n\n    start () {\n        this._countdownShoot = this.getRandomInt(5) + 2;\n        this._speed = this.getRandomInt(5) + 2;\n//         this._maxWidthScene = this.node.parent.width/2;\n//         this._maxHeightScene = this.node.parent.height/2;\n//         this.movingEnemy();\n        \n//         this.typeShootEnemy = this.getRandomInt(3) +1;\n        \n//         this._countdownShoot = this.getRandomInt(5)+2;\n//         //cc.log(this._countdownShoot);\n//         this._speed = this.getRandomInt(5)+2;\n        \n    },\n\n//     movingEnemy(){\n//         if(this.typeEnemy === 1){\n//             cc.tween(this.node)\n//             .to(1, {x: this.enemyToX, y: this.enemyToY})\n//             .start();\n//         }else if(this.typeEnemy === 2 ){\n//             let movingZicZac = cc.tween()\n//             .delay(this.delayMove)\n//             .to(2, {x: this._maxWidthScene, y:this._maxHeightScene})\n//             .to(3, {x: -this._maxWidthScene, y:this._maxHeightScene-=100})\n//             .to(3, {x: this._maxWidthScene, y:this._maxHeightScene-=100})\n//             .to(3, {x: -this._maxWidthScene, y:this._maxHeightScene-=100})\n//             .to(3, {x: this._maxWidthScene, y:this._maxHeightScene-=100})\n//             .to(3, {x: -this._maxWidthScene, y:this._maxHeightScene})\n//             cc.tween(this.node).then(movingZicZac).repeatForever().start();\n//         }\n//     },\n\n//     shoot(bulletToX, bulletToY, bulletPrefab, speed){\n        \n//         let bulletPos = this.node.convertToWorldSpaceAR(this.node.position);\n//         bulletPos = this.node.convertToNodeSpaceAR(bulletPos);\n\n//         let enemyBullet = cc.instantiate(bulletPrefab);\n//             enemyBullet.setPosition(bulletPos.x, bulletPos.y);\n//             enemyBullet.parent = this.node.parent;\n            \n//         if(this.typeShootEnemy === 2){\n//             enemyBullet.getComponent('enemyBullet').bulletToX = bulletPos.x;\n//             enemyBullet.getComponent('enemyBullet').bulletToY = -this.node.parent.height;\n//         }else if(this.typeShootEnemy === 3){\n//             enemyBullet.getComponent('enemyBullet').bulletToX = bulletToX;\n//             enemyBullet.getComponent('enemyBullet').bulletToY = bulletToY;\n//         }\n//         enemyBullet.getComponent('enemyBullet').speed = speed +1;\n        \n//     },\n\n//     getRandomInt(max) {\n//         return Math.floor(Math.random() * max);\n//     },\n\n    update (dt) {\n        if(this._timerShoot> this.countdownShoot){\n            this._countdownShoot = this.getRandomInt(5) + 2;\n            this._speed = this.getRandomInt(5) + 2;\n        }\n//         this._timerShoot+=dt;\n//         if(this._health > 0){\n//             if(this._timerShoot > this._countdownShoot && this.typeShootEnemy != 1){\n//                 let positionXPlayer = this.node.parent.getChildByName('player').x;\n//                 let positionYPlayer = this.node.parent.getChildByName('player').y;\n//                 this.shoot(positionXPlayer, positionYPlayer, this.prefabBullet, this._speed);\n//                 this._timerShoot =0;\n//             }\n//         }else{\n//             this.node.stopAllActions();\n//             this.node.destroy();\n//         }\n    },\n});\n"]}