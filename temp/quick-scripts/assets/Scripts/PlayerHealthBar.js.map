{"version":3,"sources":["PlayerHealthBar.js"],"names":["Emitter","require","cc","Class","extends","Component","properties","start","instance","registerEvent","health","bind","playerHealth","node","getComponent","ProgressBar","progress","update","dt","getChildByName","color","Color","GREEN","YELLOW","RED"],"mappings":";;;;;;AAAA,IAAMA,UAAUC,QAAQ,gBAAR,CAAhB;AACAC,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY,EAHP;;AAQL;;AAEAC,SAVK,mBAUI;AACLP,gBAAQQ,QAAR,CAAiBC,aAAjB,CAA+B,WAA/B,EAA2C,KAAKC,MAAL,CAAYC,IAAZ,CAAiB,IAAjB,CAA3C;AAEH,KAbI;AAeLD,UAfK,kBAeEE,YAfF,EAee;AAChB,aAAKC,IAAL,CAAUC,YAAV,CAAuBZ,GAAGa,WAA1B,EAAuCC,QAAvC,GAAkDJ,eAAc,GAAhE;AACA;AACH,KAlBI;AAoBLK,UApBK,kBAoBGC,EApBH,EAoBO;AACR,YAAK,KAAKL,IAAL,CAAUC,YAAV,CAAuBZ,GAAGa,WAA1B,EAAuCC,QAAvC,IAAkD,GAAvD,EAA4D;AACxD,iBAAKH,IAAL,CAAUM,cAAV,CAAyB,KAAzB,EAAgCC,KAAhC,GAAwClB,GAAGmB,KAAH,CAASC,KAAjD;AACH,SAFD,MAGK,IAAK,KAAKT,IAAL,CAAUC,YAAV,CAAuBZ,GAAGa,WAA1B,EAAuCC,QAAvC,GAAiD,GAAlD,IAA0D,KAAKH,IAAL,CAAUC,YAAV,CAAuBZ,GAAGa,WAA1B,EAAuCC,QAAvC,GAAiD,GAA/G,EAAoH;AACrH,iBAAKH,IAAL,CAAUM,cAAV,CAAyB,KAAzB,EAAgCC,KAAhC,GAAwClB,GAAGmB,KAAH,CAASE,MAAjD;AACH,SAFI,MAGD;AACA,iBAAKV,IAAL,CAAUM,cAAV,CAAyB,KAAzB,EAAgCC,KAAhC,GAAwClB,GAAGmB,KAAH,CAASG,GAAjD;AACH;AACJ;AA9BI,CAAT","file":"PlayerHealthBar.js","sourceRoot":"../../../../assets/Scripts","sourcesContent":["const Emitter = require(\"EventsListener\")\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n\n    },\n\n\n    // onLoad () {},\n\n    start () {\n        Emitter.instance.registerEvent(\"healthbar\",this.health.bind(this))\n\n    },\n\n    health(playerHealth){\n        this.node.getComponent(cc.ProgressBar).progress = playerHealth /100\n        // this.node.progress\n    },\n\n    update (dt) {\n        if ( this.node.getComponent(cc.ProgressBar).progress >=0.7 ){\n            this.node.getChildByName(\"bar\").color = cc.Color.GREEN\n        }\n        else if ((this.node.getComponent(cc.ProgressBar).progress <0.7) &&(this.node.getComponent(cc.ProgressBar).progress >0.3)){\n            this.node.getChildByName(\"bar\").color = cc.Color.YELLOW\n        }\n        else{\n            this.node.getChildByName(\"bar\").color = cc.Color.RED\n        }\n    },\n});\n"]}