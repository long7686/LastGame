{"version":3,"sources":["Level1.js"],"names":["cc","Class","extends","Component","properties","pre1","Prefab","pre2","_numberOfEnemies","start","loader","loadRes","renderMap","bind","err","obj","log","map","json","Level1","wave1","mapCol","collumn","mapRow","row","numberOfEnemies","renderWave","index","canvasWid","Canvas","instance","node","getContentSize","width","canvasHei","height","i","j","enemy","instantiate","parent","position","v2","controlWave"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,cAAML,GAAGM,MADD;AAERC,cAAMP,GAAGM,MAFD;AAGRE,0BAAiB;AAHT,KAHP;;AASLC,SATK,mBASI;AACLT,WAAGU,MAAH,CAAUC,OAAV,CAAkB,iBAAlB,EAAqC,KAAKC,SAAL,CAAeC,IAAf,CAAoB,IAApB,CAArC;AAEH,KAZI;AAcLD,aAdK,qBAcKE,GAdL,EAcUC,GAdV,EAcc;AACf,YAAID,GAAJ,EAAQ;AACJd,eAAGgB,GAAH,CAAOF,GAAP;AACA;AACH;;AAED,YAAIG,MAAMF,IAAIG,IAAJ,CAASC,MAAT,CAAgBC,KAAhB,CAAsBH,GAAhC;AACA,YAAII,SAASN,IAAIG,IAAJ,CAASC,MAAT,CAAgBC,KAAhB,CAAsBE,OAAnC;AACA,YAAIC,SAASR,IAAIG,IAAJ,CAASC,MAAT,CAAgBC,KAAhB,CAAsBI,GAAnC;AACA,YAAIC,kBAAkBV,IAAIG,IAAJ,CAASC,MAAT,CAAgBC,KAAhB,CAAsBK,eAA5C;;AAEA,aAAKC,UAAL,CAAgBT,GAAhB,EAAqBI,MAArB,EAA6BE,MAA7B;AACH,KA1BI;AA4BLG,cA5BK,sBA4BMT,GA5BN,EA4BWK,OA5BX,EA4BoBE,GA5BpB,EA4BwB;AACzB,YAAIG,QAAQ,CAAZ;AACA,YAAIC,YAAY5B,GAAG6B,MAAH,CAAUC,QAAV,CAAmBC,IAAnB,CAAwBC,cAAxB,GAAyCC,KAAzD;AACA,YAAIC,YAAYlC,GAAG6B,MAAH,CAAUC,QAAV,CAAmBC,IAAnB,CAAwBC,cAAxB,GAAyCG,MAAzD;AACA,aAAK,IAAIC,IAAI,CAAb,EAAgBA,KAAKZ,MAAI,CAAzB,EAA4BY,GAA5B,EAAgC;AAC3B,iBAAK,IAAIC,IAAI,CAAb,EAAgBA,KAAKf,UAAQ,CAA7B,EAAgCe,GAAhC,EAAoC;AACjC,oBAAIpB,IAAIU,KAAJ,MAAc,CAAlB,EAAoB;AAChB,wBAAIW,QAAQtC,GAAGuC,WAAH,CAAe,KAAKlC,IAApB,CAAZ;AACAiC,0BAAME,MAAN,GAAexC,GAAG6B,MAAH,CAAUC,QAAV,CAAmBC,IAAlC;AACAO,0BAAMG,QAAN,GAAiBzC,GAAG0C,EAAH,CAAOd,YAAUN,OAAX,GAAsBe,CAAtB,GAAyB,GAA/B,EAAqC,EAAEH,aAAW,IAAEV,GAAb,CAAF,IAAqBY,CAAtB,GAAyB,GAA7D,CAAjB;AACH,iBAJD,MAKK,IAAInB,IAAIU,KAAJ,MAAc,CAAlB,EAAoB;AACrB,wBAAIW,SAAQtC,GAAGuC,WAAH,CAAe,KAAKhC,IAApB,CAAZ;AACA+B,2BAAME,MAAN,GAAexC,GAAG6B,MAAH,CAAUC,QAAV,CAAmBC,IAAlC;AACAO,2BAAMG,QAAN,GAAiBzC,GAAG0C,EAAH,CAAOd,YAAUN,OAAX,GAAsBe,CAAtB,GAAyB,GAA/B,EAAqC,EAAEH,aAAW,IAAEV,GAAb,CAAF,IAAqBY,CAAtB,GAAyB,GAA7D,CAAjB;AACH;AACDT;AACH;AACJ;AACJ,KA/CI;AAiDLgB,eAjDK,yBAiDQ,CAEZ;AAnDI,CAAT","file":"Level1.js","sourceRoot":"..\\..\\..\\..\\assets\\Scripts","sourcesContent":["cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        pre1: cc.Prefab,\r\n        pre2: cc.Prefab,\r\n        _numberOfEnemies:0,\r\n    },\r\n\r\n    start () {\r\n        cc.loader.loadRes(\"renderMap1.json\", this.renderMap.bind(this))\r\n        \r\n    },\r\n\r\n    renderMap(err, obj){\r\n        if (err){\r\n            cc.log(err)\r\n            return;\r\n        }\r\n\r\n        let map = obj.json.Level1.wave1.map\r\n        let mapCol = obj.json.Level1.wave1.collumn\r\n        let mapRow = obj.json.Level1.wave1.row\r\n        let numberOfEnemies = obj.json.Level1.wave1.numberOfEnemies\r\n       \r\n        this.renderWave(map, mapCol, mapRow)\r\n    },\r\n\r\n    renderWave(map, collumn, row){\r\n        let index = 0;\r\n        let canvasWid = cc.Canvas.instance.node.getContentSize().width\r\n        let canvasHei = cc.Canvas.instance.node.getContentSize().height\r\n        for (let i = 0; i <= row-1; i++){\r\n             for (let j = 0; j <= collumn-1; j++){\r\n                if (map[index]=== 1){\r\n                    let enemy = cc.instantiate(this.pre1)\r\n                    enemy.parent = cc.Canvas.instance.node\r\n                    enemy.position = cc.v2((canvasWid/collumn) * j- 420, (-(canvasHei/(2*row))*i)+250)\r\n                }\r\n                else if (map[index]=== 2){\r\n                    let enemy = cc.instantiate(this.pre2)\r\n                    enemy.parent = cc.Canvas.instance.node\r\n                    enemy.position = cc.v2((canvasWid/collumn) * j- 420, (-(canvasHei/(2*row))*i)+250)\r\n                }\r\n                index++\r\n            }   \r\n        }\r\n    },\r\n\r\n    controlWave(){\r\n\r\n    }\r\n\r\n\r\n});\r\n"]}