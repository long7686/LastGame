{"version":3,"sources":["enemyVerticalShoot.js"],"names":["cc","Class","extends","require","properties","moveToX","moveToY","prefabBullet","Prefab","_timerShoot","start","moving","tween","node","to","x","y","shoot","bulletPos","convertToWorldSpaceAR","position","convertToNodeSpaceAR","enemyBullet","instantiate","setPosition","parent","getComponent","bulletToX","bulletToY","height","update","dt"],"mappings":";;;;;;AACAA,GAAGC,KAAH,CAAS;AACLC,aAASC,QAAQ,cAAR,CADJ;;AAGLC,gBAAY;AACRC,iBAAS,CADD,EACI;AACZC,iBAAS,CAFD,EAEI;AACZC,sBAAeP,GAAGQ,MAHV;AAIRC,qBAAa;AAJL,KAHP;;AAULC,SAVK,mBAUI;AACL;AACH,KAZI;AAcLC,UAdK,oBAcG;AACJX,WAAGY,KAAH,CAAS,KAAKC,IAAd,EACKC,EADL,CACQ,CADR,EACW,EAACC,GAAG,KAAKV,OAAT,EAAkBW,GAAG,KAAKV,OAA1B,EADX,EAEKI,KAFL;AAGH,KAlBI;AAoBLO,SApBK,mBAoBE;AACH,YAAIC,YAAY,KAAKL,IAAL,CAAUM,qBAAV,CAAgC,KAAKN,IAAL,CAAUO,QAA1C,CAAhB;AACAF,oBAAY,KAAKL,IAAL,CAAUQ,oBAAV,CAA+BH,SAA/B,CAAZ;;AAEA,YAAII,cAActB,GAAGuB,WAAH,CAAe,KAAKhB,YAApB,CAAlB;AACAe,oBAAYE,WAAZ,CAAwBN,UAAUH,CAAlC,EAAqCG,UAAUF,CAA/C;AACAM,oBAAYG,MAAZ,GAAqB,KAAKZ,IAAL,CAAUY,MAA/B;;AAEAH,oBAAYI,YAAZ,CAAyB,aAAzB,EAAwCC,SAAxC,GAAoDT,UAAUH,CAA9D;AACAO,oBAAYI,YAAZ,CAAyB,aAAzB,EAAwCE,SAAxC,GAAoD,CAAC,KAAKf,IAAL,CAAUY,MAAV,CAAiBI,MAAtE;AAEH,KA/BI;AAiCLC,UAjCK,kBAiCGC,EAjCH,EAiCO;AACR,aAAKtB,WAAL,IAAmBsB,EAAnB;AACA,YAAG,KAAKtB,WAAL,IAAoB,CAAvB,EAAyB;AACrB,iBAAKQ,KAAL;AACA,iBAAKR,WAAL,GAAkB,CAAlB;AACH;AACJ;AAvCI,CAAT","file":"enemyVerticalShoot.js","sourceRoot":"..\\..\\..\\..\\assets\\Scripts","sourcesContent":["\ncc.Class({\n    extends: require(\"enemyNoShoot\"),\n\n    properties: {\n        moveToX: 0, // vị trí x bay đến\n        moveToY: 0, // vị trí y bay đến\n        prefabBullet : cc.Prefab,\n        _timerShoot: 0,\n    },\n\n    start () {\n        //this.shoot();\n    },\n\n    moving(){\n        cc.tween(this.node)\n            .to(1, {x: this.moveToX, y: this.moveToY})\n            .start();\n    },\n\n    shoot(){\n        let bulletPos = this.node.convertToWorldSpaceAR(this.node.position);\n        bulletPos = this.node.convertToNodeSpaceAR(bulletPos);\n\n        let enemyBullet = cc.instantiate(this.prefabBullet);\n        enemyBullet.setPosition(bulletPos.x, bulletPos.y);\n        enemyBullet.parent = this.node.parent;\n        \n        enemyBullet.getComponent('enemyBullet').bulletToX = bulletPos.x;\n        enemyBullet.getComponent('enemyBullet').bulletToY = -this.node.parent.height;\n\n    },\n\n    update (dt) {\n        this._timerShoot+= dt;\n        if(this._timerShoot >= 1){\n            this.shoot();\n            this._timerShoot= 0;\n        }\n    },\n});\n"]}