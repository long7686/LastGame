{"version":3,"sources":["enemyThreeWayShoot.js"],"names":["cc","Class","extends","require","properties","moveToX","moveToY","prefabBullet","Prefab","_timerShoot","start","moving","tween","node","to","x","y","shoot","bulletPos","convertToWorldSpaceAR","position","convertToNodeSpaceAR","redBullet1","instantiate","parent","Canvas","instance","setPosition","getComponent","bulletNumber","threeWay","redBullet2","redBullet3","update","dt"],"mappings":";;;;;;AACAA,GAAGC,KAAH,CAAS;AACLC,aAASC,QAAQ,cAAR,CADJ;;AAGLC,gBAAY;AACRC,iBAAS,CADD,EACI;AACZC,iBAAS,CAFD,EAEI;AACZC,sBAAeP,GAAGQ,MAHV;AAIRC,qBAAa;AAJL,KAHP;;AAULC,SAVK,mBAUI;AACL;AACH,KAZI;AAcLC,UAdK,oBAcG;AACJX,WAAGY,KAAH,CAAS,KAAKC,IAAd,EACKC,EADL,CACQ,CADR,EACW,EAACC,GAAG,KAAKV,OAAT,EAAkBW,GAAG,KAAKV,OAA1B,EADX,EAEKI,KAFL;AAGH,KAlBI;AAoBLO,SApBK,mBAoBE;AACH,YAAIC,YAAY,KAAKL,IAAL,CAAUM,qBAAV,CAAgC,KAAKN,IAAL,CAAUO,QAA1C,CAAhB;AACAF,oBAAY,KAAKL,IAAL,CAAUQ,oBAAV,CAA+BH,SAA/B,CAAZ;;AAEA,YAAII,aAAatB,GAAGuB,WAAH,CAAe,KAAKhB,YAApB,CAAjB;AACAe,mBAAWE,MAAX,GAAoBxB,GAAGyB,MAAH,CAAUC,QAAV,CAAmBb,IAAvC;AACAS,mBAAWK,WAAX,CAAuBT,UAAUH,CAAjC,EAAoCG,UAAUF,CAA9C;AACAM,mBAAWM,YAAX,CAAwB,aAAxB,EAAuCC,YAAvC,GAAsD,CAAtD;AACAP,mBAAWM,YAAX,CAAwB,aAAxB,EAAuCE,QAAvC,GAAkD,IAAlD;AACA;AACA;;;AAGA,YAAIC,aAAa/B,GAAGuB,WAAH,CAAe,KAAKhB,YAApB,CAAjB;AACAwB,mBAAWP,MAAX,GAAoBxB,GAAGyB,MAAH,CAAUC,QAAV,CAAmBb,IAAvC;AACAkB,mBAAWJ,WAAX,CAAuBT,UAAUH,CAAjC,EAAoCG,UAAUF,CAA9C;AACAe,mBAAWH,YAAX,CAAwB,aAAxB,EAAuCC,YAAvC,GAAsD,CAAtD;AACAE,mBAAWH,YAAX,CAAwB,aAAxB,EAAuCE,QAAvC,GAAkD,IAAlD;AACA;AACA;;AAEA,YAAIE,aAAahC,GAAGuB,WAAH,CAAe,KAAKhB,YAApB,CAAjB;AACAyB,mBAAWR,MAAX,GAAoBxB,GAAGyB,MAAH,CAAUC,QAAV,CAAmBb,IAAvC;AACAmB,mBAAWL,WAAX,CAAuBT,UAAUH,CAAjC,EAAoCG,UAAUF,CAA9C;AACAgB,mBAAWJ,YAAX,CAAwB,aAAxB,EAAuCC,YAAvC,GAAsD,CAAtD;AACAG,mBAAWJ,YAAX,CAAwB,aAAxB,EAAuCE,QAAvC,GAAkD,IAAlD;AACA;AACH,KA/CI;AAiDLG,UAjDK,kBAiDGC,EAjDH,EAiDO;AACR,aAAKzB,WAAL,IAAmByB,EAAnB;AACA,YAAG,KAAKzB,WAAL,IAAoB,CAAvB,EAAyB;AACrB,iBAAKQ,KAAL;AACA,iBAAKR,WAAL,GAAkB,CAAlB;AACH;AACJ;AAvDI,CAAT","file":"enemyThreeWayShoot.js","sourceRoot":"..\\..\\..\\..\\assets\\Scripts","sourcesContent":["\ncc.Class({\n    extends: require(\"enemyNoShoot\"),\n\n    properties: {\n        moveToX: 0, // vị trí x bay đến\n        moveToY: 0, // vị trí y bay đến\n        prefabBullet : cc.Prefab,\n        _timerShoot: 0,\n    },\n\n    start () {\n        //this.shoot();\n    },\n\n    moving(){\n        cc.tween(this.node)\n            .to(1, {x: this.moveToX, y: this.moveToY})\n            .start();\n    },\n\n    shoot(){\n        let bulletPos = this.node.convertToWorldSpaceAR(this.node.position);\n        bulletPos = this.node.convertToNodeSpaceAR(bulletPos);\n        \n        let redBullet1 = cc.instantiate(this.prefabBullet);\n        redBullet1.parent = cc.Canvas.instance.node;\n        redBullet1.setPosition(bulletPos.x, bulletPos.y);\n        redBullet1.getComponent('enemyBullet').bulletNumber = 1;\n        redBullet1.getComponent('enemyBullet').threeWay = true;\n        // redBullet1.getComponent('enemyBullet').bulletToX = redBullet1.x;\n        // redBullet1.getComponent('enemyBullet').bulletToY = -this.node.parent.height;\n\n\n        let redBullet2 = cc.instantiate(this.prefabBullet)\n        redBullet2.parent = cc.Canvas.instance.node\n        redBullet2.setPosition(bulletPos.x, bulletPos.y);\n        redBullet2.getComponent('enemyBullet').bulletNumber = 2;\n        redBullet2.getComponent('enemyBullet').threeWay = true;\n        // redBullet2.getComponent('enemyBullet').bulletToX = redBullet2.x;\n        // redBullet2.getComponent('enemyBullet').bulletToY = -this.node.parent.height;\n\n        let redBullet3 = cc.instantiate(this.prefabBullet)\n        redBullet3.parent = cc.Canvas.instance.node\n        redBullet3.setPosition(bulletPos.x, bulletPos.y);\n        redBullet3.getComponent('enemyBullet').bulletNumber = 3;\n        redBullet3.getComponent('enemyBullet').threeWay = true;\n        // redBullet3.angle = -35\n    },\n\n    update (dt) {\n        this._timerShoot+= dt;\n        if(this._timerShoot >= 1){\n            this.shoot();\n            this._timerShoot= 0;\n        }\n    },\n});\n"]}